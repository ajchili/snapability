(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{200:function(t,e,a){t.exports=a(365)},205:function(t,e,a){},365:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),s=a(17),l=a.n(s),i=(a(205),a(22)),o=a(23),c=a(25),m=a(24),u=a(26),p=a(367),h=a(366),d=a(3),f=a(369),g=["https://www.instagram.com/p/BoKXMzqA5rm","https://www.instagram.com/p/Bo2WOtAHRl_/","https://www.instagram.com/p/BpKZxqsnZHA/","https://www.instagram.com/p/BpHuBMrh-m9/","https://www.instagram.com/p/BpMNLgxnuSf/?tagged=exploration","https://ramibains.tumblr.com/post/172413087381/porsche","https://coolcatgroup.tumblr.com/post/179264527036/theawkwardjossy-i-think-we-can-all-agree-chubs","http://krabby-kronicle.tumblr.com/post/168440292876","http://astalavistasta.tumblr.com/post/175234498819/%C3%B6zg%C3%BCrl%C3%BC%C4%9F%C3%BCn-en-b%C3%BCy%C3%BCk-d%C3%BC%C5%9Fman%C4%B1-halinden-memnun-olan","https://twitter.com/JohnMayer/status/1014968418892636160","https://twitter.com/localgringo/status/923198119784931328","https://twitter.com/DaisyOfNland/status/1053923167197192192","https://twitter.com/UNC_Basketball/status/1053350300801818626","https://twitter.com/selfcareviibess/status/1053946313606381574"],E=function(t){function e(){var t,a;Object(i.a)(this,e);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(t=Object(m.a)(e)).call.apply(t,[this].concat(r)))).state={post:"",platform:""},a.onPostChange=function(t){a.setState({post:t.target.value}),t.target.value.includes("twitter")?a.setState({platform:"twitter"}):t.target.value.includes("tumblr")?a.setState({platform:"tumblr"}):t.target.value.includes("instagram")?a.setState({platform:"instagram"}):t.target.value.length||a.setState({platform:""})},a.onPlatformChange=function(t){a.setState({platform:t.target.value})},a.onLoadPost=function(){var t,e,n,r=a.state,s=r.post,l=r.platform;if(s.length&&l.length)switch(l){case"twitter":t=s.split("com/")[1].split("/")[0],e=s.split("status/")[1],a.props.history.push("/post/twitter?author=".concat(t,"&?status=").concat(e));break;case"tumblr":t=s.split("://")[1].split("/")[0],(n=s.split("post/")[1]).includes("/")&&(n=n.split("/")[0]),a.props.history.push("/post/tumblr?author=".concat(t,"&?post=").concat(n));break;case"instagram":(n=s.split("/p/")[1]).includes("/")&&(n=n.split("/")[0]),a.props.history.push("/post/instagram?post=".concat(n));break;default:alert("The platform selected is currently unsupported.")}else alert("A url and platform are required!")},a}return Object(u.a)(e,t),Object(o.a)(e,[{key:"render",value:function(){var t=this;return r.a.createElement("div",null,r.a.createElement(d.a,{style:{top:5,left:5,position:"absolute"},variant:"text",color:"primary",onClick:function(){return t.props.history.push("/stats")}},"Statistics"),r.a.createElement(d.a,{style:{top:5,right:5,position:"absolute"},variant:"text",color:"primary",onClick:function(){var e=g[Math.floor(Math.random()*g.length)];t.setState({post:e}),t.onPostChange({target:{value:e}}),setTimeout(function(){return t.onLoadPost()},300)}},"Demo"),r.a.createElement(d.j,{container:!0,direction:"row",justify:"center",alignItems:"center",style:{height:"100vh",overflowX:"hidden"}},r.a.createElement(d.j,{container:!0,direction:"column",justify:"center",alignItems:"center",spacing:32},r.a.createElement(d.j,{item:!0},r.a.createElement(d.o,{variant:"display1",align:"center"},"Snapability"),r.a.createElement(d.o,{variant:"caption",align:"center"},"an accessible way to experience pictures on social media platforms")),r.a.createElement(d.j,{container:!0,direction:"row",justify:"center",alignItems:"center",spacing:32},r.a.createElement(d.j,{item:!0,xs:6,sm:3},r.a.createElement(d.n,{id:"outlined-dense",label:"Enter URL",margin:"dense",variant:"outlined",fullWidth:!0,onChange:this.onPostChange,value:this.state.post})),r.a.createElement(d.j,{item:!0},r.a.createElement(d.h,null,r.a.createElement(d.m,{value:this.state.platform,onChange:this.onPlatformChange,input:r.a.createElement(d.k,{platform:"platform"})},r.a.createElement(d.l,{value:"twitter"},"Twitter"),r.a.createElement(d.l,{value:"tumblr"},"Tumblr"),r.a.createElement(d.l,{value:"instagram"},"Instagram")),r.a.createElement(d.i,null,"Select platform")))),r.a.createElement(d.j,{item:!0},r.a.createElement(d.a,{variant:"outlined",color:"primary",onClick:this.onLoadPost},"Search")))))}}]),e}(n.Component),y=Object(f.a)(E),b=a(28),v=a.n(b),w=a(368),j=["twitter","tumblr","instagram"],C=function(t){function e(){var t,a;Object(i.a)(this,e);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(t=Object(m.a)(e)).call.apply(t,[this].concat(r)))).state={post:null,err:null,content:null},a._fetchTweet=function(t){a.state.err||a.state.post||v()({method:"POST",url:"https://us-central1-snapability-220017.cloudfunctions.net/parseTwitterPost",data:{url:t}}).then(function(t){a.setState({post:t.data})}).catch(function(){a.setState({err:"Error parsing tweet."})})},a._fetchPost=function(t,e){a.state.err||a.state.post||v()({method:"POST",url:"https://us-central1-snapability-220017.cloudfunctions.net/parseTumblrPost",data:{username:t,postId:e}}).then(function(t){a.setState({post:t.data})}).catch(function(t){console.error(t),a.setState({err:"Error parsing tumblr post."})})},a._fetchInstagramPost=function(t){a.state.err||a.state.post||v()({method:"POST",url:"https://us-central1-snapability-220017.cloudfunctions.net/parseInstagramPost",data:{url:"https://www.instagram.com/p/".concat(t)}}).then(function(t){a.setState({post:t.data})}).catch(function(t){console.error(t),a.setState({err:"Error parsing tumblr post."})})},a._fetchContent=function(t){a.state.content||v()({method:"POST",url:"https://us-central1-snapability-220017.cloudfunctions.net/predictImage",data:{url:t}}).then(function(t){a.setState({content:t.data})}).catch(function(t){return console.error(t)})},a}return Object(u.a)(e,t),Object(o.a)(e,[{key:"render",value:function(){var t,e,a,n,s=this,l=this.props.match.params.type,i=null;if(j.includes(l))switch(l){case"twitter":if(t=this.props.location.search.split("author=")[1],e=this.props.location.search.split("status=")[1],!t||!e)return r.a.createElement(w.a,{to:"/"});i="https://twitter.com/".concat(t.split("&")[0],"/status/").concat(e),this._fetchTweet(i);break;case"tumblr":if(a=this.props.location.search.split("author=")[1].split("&")[0],n=this.props.location.search.split("post=")[1],i="https://".concat(a,"/post/").concat(n),!a||!n)return r.a.createElement(w.a,{to:"/"});this._fetchPost(a,n);break;case"instagram":if(!(n=this.props.location.search.split("post=")[1]))return r.a.createElement(w.a,{to:"/"});this._fetchInstagramPost(n)}else l=null;return this.state.post&&("tumblr"!==l?this._fetchContent(this.state.post.src):this.state.post.forEach(function(t){s._fetchContent(t)})),r.a.createElement("div",null,r.a.createElement(d.a,{style:{top:5,left:5,position:"absolute"},variant:"text",color:"primary",onClick:function(){return s.props.history.push("/")}},"Back"),r.a.createElement(d.j,{container:!0,direction:"row",justify:"center",alignItems:"center",style:{height:"100vh"}},l?r.a.createElement(d.j,{item:!0,l:4,m:6,xs:8,sm:10},this.state.post?r.a.createElement(d.b,null,this.state.post?r.a.createElement(d.e,{image:"tumblr"!==l?this.state.post.src:this.state.post[0],title:"".concat(l," post provided by user"),style:{height:"400px",width:"100%"}}):r.a.createElement(d.j,{container:!0,direction:"column",justify:"center",alignItems:"center",spacing:8,style:{marginTop:"5px"}},r.a.createElement(d.j,{item:!0},r.a.createElement(d.g,null)),r.a.createElement(d.j,{item:!0},r.a.createElement(d.o,{variant:"caption"},"Loading image..."))),r.a.createElement(d.d,null,r.a.createElement(d.o,{gutterBottom:!0,variant:"headline",component:"h2"},l.substring(0,1).toUpperCase(),l.substring(1)," Post"),this.state.content?r.a.createElement(d.j,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",spacing:8,style:{marginTop:"5px"}},this.state.content.map(function(t){return r.a.createElement(d.j,{item:!0,key:t.name},t.value>=.9&&r.a.createElement(d.f,{label:t.name,variant:"outlined",color:"primary"}),t.value<.9&&t.value>=.7&&r.a.createElement(d.f,{label:t.name,variant:"outlined"}),t.value<.7&&r.a.createElement(d.f,{label:t.name,variant:"outlined",color:"secondary"}))})):r.a.createElement(d.j,{container:!0,direction:"column",justify:"center",alignItems:"center",spacing:8,style:{marginTop:"5px"}},r.a.createElement(d.j,{item:!0},r.a.createElement(d.g,null)),r.a.createElement(d.j,{item:!0},r.a.createElement(d.o,{variant:"caption"},"Loading descriptions...")))),r.a.createElement(d.c,null,r.a.createElement(d.a,{size:"small",color:"primary",onClick:function(){return window.open(i,"_blank")}},"Original Post"),r.a.createElement(d.a,{size:"small",color:"primary"},"Share"))):r.a.createElement(d.j,{container:!0,direction:"column",justify:"center",alignItems:"center",spacing:8,style:{marginTop:"5px"}},this.state.err?r.a.createElement(d.j,{item:!0},r.a.createElement(d.o,{variant:"display1"},"There was an error loading this post :("),r.a.createElement(d.o,{variant:"display4"},"Please refresh the page or try again later")):r.a.createElement(d.j,{item:!0},r.a.createElement(d.g,{size:150})))):r.a.createElement(w.a,{to:"/"})))}}]),e}(n.Component),k=Object(f.a)(C),O=a(84),S=a.n(O),T=function(t){function e(){var t,a;Object(i.a)(this,e);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(t=Object(m.a)(e)).call.apply(t,[this].concat(r)))).state={statistics:null,err:null},a._fetchData=function(){v.a.get("https://us-central1-snapability-220017.cloudfunctions.net/fetchStatistics").then(function(t){a.setState({statistics:t.data[0]})}).catch(function(t){console.error(t),a.setState({err:t})})},a}return Object(u.a)(e,t),Object(o.a)(e,[{key:"componentDidMount",value:function(){var t=this;this._fetchData(),setInterval(function(){t._fetchData()},15e3)}},{key:"render",value:function(){var t=this,e=[0,0,0];this.state.statistics&&this.state.statistics.forEach(function(t){switch(t.type){case"twitter":e[0]++;break;case"tumblr":e[1]++;break;case"instagram":e[2]++}});var a=[{name:"Twitter",data:[null,null,null,null,null,null,null,null,null,null]},{name:"Tumblr",data:[null,null,null,null,null,null,null,null,null,null]},{name:"Instagram",data:[null,null,null,null,null,null,null,null,null,null]}];this.state.statistics&&(this.state.statistics.forEach(function(t){var e=Math.floor(((new Date).getTime()-t.time)/1e3/60);switch(console.log(e),t.type){case"twitter":e<=9&&(a[0].data[e]||(a[0].data[e]=0),a[0].data[e]++);break;case"tumblr":e<=9&&(a[1].data[e]||(a[1].data[e]=0),a[1].data[e]++);break;case"instagram":e<=9&&(a[2].data[e]||(a[2].data[e]=0),a[2].data[e]++)}}),a[0].data.reverse(),a[1].data.reverse(),a[2].data.reverse());var n={chart:{type:"line",zoom:{enabled:!1}},stroke:{width:[5,5,4],curve:"straight"},labels:[1,2,3,4,5,6,7,8,9,10].reverse(),fill:{type:"gradient",gradient:{shade:"dark",gradientToColors:["#FDD835"],shadeIntensity:1,type:"horizontal",opacityFrom:1,opacityTo:1,stops:[0,100,100,100]}}};return r.a.createElement("div",null,r.a.createElement(d.a,{style:{top:5,left:5,position:"absolute"},variant:"text",color:"primary",onClick:function(){return t.props.history.push("/")}},"Back"),r.a.createElement(d.j,{container:!0,direction:"row",justify:"center",alignItems:"center",style:{minHeight:"100vh",overflowY:"scroll"}},r.a.createElement(d.j,{item:!0,l:4,m:6,xs:8,sm:10},this.state.statistics?r.a.createElement(d.j,{container:!0,direction:"column",justify:"center",alignItems:"center",spacing:32,style:{marginTop:"5px"}},r.a.createElement(d.j,{item:!0},r.a.createElement(d.b,null,r.a.createElement("div",{className:"donut"},r.a.createElement(S.a,{options:{labels:["Twitter","Tumblr","Instagram"]},series:e,type:"donut"})),r.a.createElement(d.d,null,r.a.createElement(d.o,{variant:"display1"},"All requests ever made using Snapability")))),r.a.createElement(d.j,{item:!0},r.a.createElement(d.b,null,r.a.createElement("div",{className:"line"},r.a.createElement(S.a,{options:n,series:a,type:"line"})),r.a.createElement(d.d,null,r.a.createElement(d.o,{variant:"display1"},"All requests made within the past 10 minutes"))))):r.a.createElement(d.j,{container:!0,direction:"column",justify:"center",alignItems:"center",spacing:8,style:{marginTop:"5px"}},this.state.err?r.a.createElement(d.j,{item:!0},r.a.createElement(d.o,{variant:"display1"},"There was an error loading this post :("),r.a.createElement(d.o,{variant:"display4"},"Please refresh the page or try again later")):r.a.createElement(d.j,{item:!0},r.a.createElement(d.g,{size:150}))))))}}]),e}(n.Component),x=Object(f.a)(T),P=function(t){function e(){return Object(i.a)(this,e),Object(c.a)(this,Object(m.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(o.a)(e,[{key:"render",value:function(){return r.a.createElement(p.a,null,r.a.createElement("div",null,r.a.createElement(h.a,{exact:!0,path:"/",component:y}),r.a.createElement(h.a,{exact:!0,path:"/post",component:k}),r.a.createElement(h.a,{path:"/post/:type",component:k}),r.a.createElement(h.a,{exact:!0,path:"/stats",component:x})))}}]),e}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(P,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[200,2,1]]]);
//# sourceMappingURL=main.670b346b.chunk.js.map